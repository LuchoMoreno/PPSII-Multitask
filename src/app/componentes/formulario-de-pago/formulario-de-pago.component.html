<div class="formularioDePagoContainer">
    <div *ngIf="mostrarFormularioCuotas">
        <div class="formularioDeCuotas">
            <select name="cuotas" id="cuotas" (change)="calcularCuotas()">
                <option value="1">1 cuotas</option>
                <option value="3">3 cuotas <label style="font-size:12px; color: green;">(sin interes)</label></option>
                <option value="6">6 cuotas </option>
                <option value="12">12 cuotas</option>
                <option value="18">18 cuotas</option>
            </select>
        </div>
        <h2>{{publicacionObjetivo.precioEnCuotas}}</h2>
        <p *ngIf=" this.publicacionObjetivo.cantidadDeCuotas && this.publicacionObjetivo.cantidadDeCuotas>1">
            {{this.publicacionObjetivo.cantidadDeCuotas}} Cuotas de:
            {{publicacionObjetivo.precioEnCuotas/this.publicacionObjetivo.cantidadDeCuotas|currency}}</p>
    </div>
    <div>
        <app-credit-card [datosTarjeta]="datosTarjetaTest" [esDorso]="esDorso"></app-credit-card>
    </div>
    <div style="width: 100%; text-align: center;">
        <h2>Ingrese los datos de su tarjeta</h2>
        <label *ngIf="yoQuiero" style="color: red; font-size: 12px;"> Por el momento no operamos con esta tarjeta.
        </label>
    </div>
    <div class="divFormulario">
        <form [formGroup]="testGroupTarjetaForm">

            <div style="display: block;">

                <mat-form-field>
                    <mat-label>Numero de tarjeta</mat-label>

                    <input matInput (focus)="esDorso=false" (keyup)="onChangeNumTarjeta($event)"
                        [textMask]="{mask: creditNumberMask}" placeholder="0000-0000-0000-0000"
                        formControlName="numeroValidado">

                    <mat-error *ngIf="testGroupTarjetaForm.controls.numeroValidado.invalid">
                        {{mostrarErrorRegistro('numeroValidado')}}</mat-error>


                    <!--  -->
                </mat-form-field>


                <mat-form-field>
                    <mat-label>Nombre</mat-label>

                    <input matInput (focus)="esDorso=false" (keyup)="onChangeNombre($event)" placeholder="Nombre"
                        formControlName="nombreValidado">

                    <mat-error *ngIf="testGroupTarjetaForm.controls.nombreValidado.invalid">
                        {{mostrarErrorRegistro('nombreValidado')}}</mat-error>
                </mat-form-field>


                <mat-form-field>
                    <mat-label>Apellido</mat-label>

                    <input matInput (focus)="esDorso=false" (keyup)="onChangeApelldio($event)" placeholder="Apellido"
                        formControlName="apellidoValidado">

                    <mat-error *ngIf="testGroupTarjetaForm.controls.apellidoValidado.invalid">
                        {{mostrarErrorRegistro('apellidoValidado')}}</mat-error>
                </mat-form-field>


                <mat-form-field>
                    <mat-label>Fecha expiracion</mat-label>

                    <input matInput (focus)="esDorso=false" (keyup)="onChangeFechaVto($event)"
                        [textMask]="{mask: dateMask}" placeholder="00/00" formControlName="fechaValidada">

                    <mat-error *ngIf="testGroupTarjetaForm.controls.fechaValidada.invalid">
                        {{mostrarErrorRegistro('fechaValidada')}}</mat-error>
                </mat-form-field>


                <mat-form-field>
                    <mat-label>PIN</mat-label>

                    <input matInput (focus)="esDorso=true" (keyup)="onChangePin($event)" [textMask]="{mask: pinMask}"
                        placeholder="000" formControlName="pinValidado">

                    <mat-error *ngIf="testGroupTarjetaForm.controls.pinValidado.invalid">
                        {{mostrarErrorRegistro('pinValidado')}}
                    </mat-error>
                </mat-form-field>

            </div>

            <!-- [mat-dialog-close]="datosTarjetaTest" -->
            <div class="btnContainer">
                <button [disabled]="!testGroupTarjetaForm.valid" type="submit" mat-raised-button color="primary"
                    class="btnLogin" (click)="procesarPagos()">Aceptar (no hago nada, estoy aca de pinta)</button>
            </div>


        </form>
    </div>
</div>